# 5.12学习日志
## linux 结构介绍
* /bin：存放二进制可执行文件(ls、cat、mkdir 等)，常用命令一般都在这里；
* /etc：存放系统管理和配置文件；
* /home：存放所有用户文件的根目录，是用户主目录的基点，比如用户 user 的主目录就是/home/user，可以用~user 表示；
* /usr ：用于存放系统应用程序；
* /opt：额外安装的可选应用程序包所放置的位置。一般情况下，我们可以把 tomcat 等都安装到这里；
* /proc： 虚拟文件系统目录，是系统内存的映射。可直接访问这个目录来获取系统信息；
* /root：超级用户（系统管理员）的主目录（特权阶级^o^）；
* -/sbin：存放二进制可执行文件，只有 root 才能访问。这里存放的是系统管理员使用的系统级别的管理命令和程序。如 ifconfig 等；
* /dev： 用于存放设备文件；
* /mnt：系统管理员安装临时文件系统的安装点，系统提供这个目录是让用户临时挂载其他的文件系统；
* /boot：存放用于系统引导时使用的各种文件；
* /lib ：存放着和系统运行相关的库文件 ；
* /tmp：用于存放各种临时文件，是公用的临时文件存储点；
* /var：** 用于存放运行时需要改变数据的文件，也是某些大文件的溢出区，比方说各种服务的日志文件（系统启动日志等。）等；
* /lost+found：** 这个目录平时是空的，系统非正常关机而留下“无家可归”的文件（windows 下叫什么.chk）就在这里。


## linux 文件权限
*  **r**：代表权限是可读，r 也可以用数字 4 表示
* **w**：代表权限是可写，w 也可以用数字 2 表示
* **x**：代表权限是可执行，x 也可以用数字 1 表示


**所有者(u) **：一般为文件的创建者，谁创建了该文件，就天然的成为该文件的所有者，用 `ls ‐ahl` 命令可以看到文件的所有者 也可以使用 chown 用户名 文件名来修改文件的所有者 。

**文件所在组(g)**：当某个用户创建了一个文件后，这个文件的所在组就是该用户所在的组用 `ls ‐ahl`命令可以看到文件的所有组也可以使用 chgrp 组名 文件名来修改文件所在的组。

**其它组(o)** ：除开文件的所有者和所在组的用户外，系统的其它用户都是文件的其它组。

## Shell 命令
shell 和 GUI 一样作为用户和操作系统之间的接口。GUI 提供了一种图形化接口，简单易学。shell 为用户提供了一种命令行的接口，并分析和执行字符串中的命令，然后给客户返回执行结果。使用起来可能更复杂，但占用资源少，且熟练后提高工作效率，具有批处理功能，某些场景很适用。

## java 线程
* Runnable 接口
* 继承 Thread 类
* callable接口

Runnable 和 Thread 区别
1. 子类
2. 通用对象/独立对象
3. 可共享/不可共享

Runnable 和 callable区别

* 后者可return

### java 线程池通信
* **共享内存**：读写主内存隐式通信（轮询读取状态），共享对象通信，通过Synchronized,volatile，semaphore等。

* **消息传递**：wait和notify，lock锁里的condition

* **管道**：PipedOutputStream管道输出流POS ， PipedInputStream管道输入流PIS，匹配：pos.connect(pis)；

### CPU cache
CPU 缓存是为了解决 **CPU 处理速度**和**内存处理速度**不对等的问题。

### 线程池
* **降低资源消耗。**通过重复利用已创建的线程降低线程创建和销毁造成的消耗。
* **提高响应速度。**当任务到达时，任务可以不需要的等到线程创建就能立即执行。
* **提高线程的可管理性。**线程是稀缺资源，如果无限制的创建，不仅会消耗系统资源，还会降低系统的稳定性，使用线程池可以进行统一的分配，调优和监控。

### 死锁产生条件
* **互斥条件：**一个资源每一次只能被一个进程使用

* **请求与保持条件：**一个进程因请求资源而阻塞时，对获得的资源保持不放

* **不剥夺条件：**进程已获得的资源，在未使用完之前，不能强行剥夺

* **循环等待条件：**若干进程之间形成一种头尾相接的循环等待关系

### 避免死锁
* 设置同步区，避免一个线程同时获取多个锁

* 尽量保证一个锁占用一个资源

* 使用tryLock（Timeout）代替内部锁，即加锁顺序，加锁时限

* 对于数据库锁，加解锁必须放在一个数据库连接里

